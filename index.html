<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Haroon & Sons Consulting Quote</title>
  <link rel="stylesheet" href="styles.css?v=final1" />
</head>
<body>
  <div class="app">
    <header class="hero">
      <div class="hero-card">
        <img id="companyLogo" class="logo" src="logo.png" alt="Haroon & Sons Consulting logo" />
        <div class="hero-mid">
          <h1 id="companyName">Haroon &amp; Sons Consulting Quote</h1>
          <div class="muted" id="tierLine">Markup tier: ‚Äî</div>
        </div>
        <div class="hero-right">
          <a id="companyPhone" class="contact" href="#">üìû</a>
          <a id="companyEmail" class="contact" href="#">‚úâÔ∏è</a>
        </div>
      </div>

      <nav class="tabs">
        <button class="tab active" data-tab="input">INPUT</button>
        <button class="tab" data-tab="quote">QUOTE</button>
        <button class="tab" data-tab="rates">RATES</button>
      </nav>
    </header>

    <section class="panel active" id="tab-input">
      <div class="card">
        <h2>Project Inputs</h2>

        <div class="grid2">
          <label>Project Area (SF)
            <input id="areaSF" inputmode="decimal" placeholder="e.g., 1400" />
          </label>
          <label>Ceiling Height (ft)
            <input id="heightFT" inputmode="decimal" placeholder="e.g., 8" />
          </label>
          <label>Length (ft) (optional)
            <input id="lenFT" inputmode="decimal" placeholder="e.g., 35" />
          </label>
          <label>Width (ft) (optional)
            <input id="widFT" inputmode="decimal" placeholder="e.g., 40" />
          </label>
          <label class="span2">Perimeter LF (optional override)
            <input id="perimOverride" inputmode="decimal" placeholder="leave blank to auto" />
          </label>
        </div>

        <div class="kpis">
          <div class="kpi"><div class="muted">Perimeter LF</div><div id="kPerim" class="kpiV">‚Äî</div></div>
          <div class="kpi"><div class="muted">Wall SF</div><div id="kWall" class="kpiV">‚Äî</div></div>
          <div class="kpi"><div class="muted">Paint/Drywall SF</div><div id="kPaint" class="kpiV">‚Äî</div></div>
        </div>

        <hr />

        <div class="grid2">
          <label>Customer Name
            <input id="custName" placeholder="Customer name" />
          </label>
          <label>Project Address
            <input id="custAddr" placeholder="Address" />
          </label>
          <label class="span2">Notes
            <textarea id="custNotes" rows="3" placeholder="Optional notes..."></textarea>
          </label>
        </div>

        <div class="btnrow">
          <button class="btn primary" id="btnRecalc">Recalculate</button>
          <button class="btn" id="btnPrint">Print / Save PDF</button>
        </div>

        <div class="hint">
          Auto-calculates live. Recalculate button is just a reset trigger.
          Admin: long-press the logo (~1 sec).
        </div>
      </div>

      <div class="card">
        <h2>Scope</h2>
        <div id="scopeList" class="list"></div>
      </div>

      <div class="card">
        <h2>Fixtures</h2>
        <div id="fixtureList" class="list"></div>
      </div>

      <div class="card">
        <h2>Doors</h2>
        <div id="doorList" class="list"></div>
      </div>

      <div class="card">
        <h2>Add-ons</h2>
        <div id="addonList" class="list"></div>
      </div>
    </section>

    <section class="panel" id="tab-quote">
      <div class="card">
        <h2>Quote</h2>
        <div id="quoteMeta" class="muted">Enter area to generate totals.</div>

        <div class="tableWrap">
          <table class="qtable">
            <thead>
              <tr>
                <th>Item</th>
                <th>Unit</th>
                <th class="num">Units</th>
                <th class="num">Raw</th>
                <th class="num">Sell</th>
              </tr>
            </thead>
            <tbody id="quoteBody"></tbody>
            <tfoot>
              <tr>
                <td colspan="4" class="num"><b>Total</b></td>
                <td class="num"><b id="quoteTotal">‚Äî</b></td>
              </tr>
            </tfoot>
          </table>
        </div>

        <div class="totalsBox">
          <div><span class="muted">Raw Subtotal</span> <b id="rawTotal">‚Äî</b></div>
          <div><span class="muted">Markup Applied</span> <b id="markupShown">‚Äî</b></div>
          <div><span class="muted">Tariff Applied</span> <b id="tariffShown">‚Äî</b></div>
        </div>
      </div>

      <div class="card admin hidden" id="adminPanel">
        <h2>Admin Controls</h2>

        <label class="inline">
          <input type="checkbox" id="markupEnabled" />
          <span>Apply SQFT markup</span>
        </label>

        <label class="inline">
          <input type="checkbox" id="tariffEnabled" />
          <span>Enable tariff bump (materials only)</span>
        </label>

        <div class="grid2">
          <label>Tariff % (materials only)
            <input id="tariffPct" inputmode="decimal" value="0" />
          </label>
          <label>Override Markup % (blank = use tier)
            <input id="overrideMarkupPct" inputmode="decimal" placeholder="e.g., 40" />
          </label>
        </div>

        <div class="btnrow">
          <button class="btn primary" id="adminSave">Save Admin</button>
          <button class="btn" id="adminLock">Lock</button>
        </div>

        <div class="hint" id="adminStatus"></div>
      </div>
    </section>

    <section class="panel" id="tab-rates">
      <div class="card">
        <h2>Rates (Base)</h2>
        <div class="muted">These are base rates from <code>data.json</code>. Markup is applied by SQFT tiers (and admin overrides).</div>
        <div class="tableWrap">
          <table class="rtable">
            <thead>
              <tr>
                <th>Item</th>
                <th>Unit</th>
                <th class="num">Material Rate</th>
                <th class="num">Labor Rate</th>
              </tr>
            </thead>
            <tbody id="ratesBody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <script src="app.js?v=final1"></script>
</body>
</html>
