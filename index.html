<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Haroon &amp; Sons Consulting Quote</title>
  <link rel="stylesheet" href="styles.css?v=1" />
</head>
<body>
  <main class="app">
    <header class="hero">
      <div class="hero-card">
        <div class="hero-left">
          <img id="companyLogo" class="logo" alt="Company logo" src="logo.png?v=1" />
        </div>
        <div class="hero-mid">
          <h1 id="companyName">Haroon &amp; Sons Consulting Quote</h1>
          <div class="tagline">Fast estimate ‚Ä¢ Clear scope ‚Ä¢ Clean totals</div>
          <div class="subline" id="markupBanner">Pricing tier: ‚Äî</div>
        </div>
        <div class="hero-right">
          <a id="companyPhone" class="contact" href="#">üìû</a>
          <a id="companyEmail" class="contact" href="#">‚úâÔ∏è</a>
        </div>
      </div>

      <nav class="tabs" role="tablist" aria-label="Quote tabs">
        <button class="tab active" data-tab="input" role="tab">INPUT</button>
        <button class="tab" data-tab="quote" role="tab">QUOTE</button>
        <button class="tab" data-tab="rates" role="tab">RATES</button>
      </nav>
    </header>

    <section class="panel active" id="tab-input">
      <div class="card">
        <h2>Project Geometry</h2>

        <div class="grid">
          <label class="field">
            <span>Project Area (SF)</span>
            <input id="inFloorSF" type="number" inputmode="decimal" placeholder="e.g., 1400" />
          </label>

          <label class="field">
            <span>Ceiling Height (ft)</span>
            <input id="inCeilFt" type="number" inputmode="decimal" placeholder="e.g., 8" />
          </label>

          <label class="field">
            <span>Project Length (ft) (optional)</span>
            <input id="inLenFt" type="number" inputmode="decimal" placeholder="e.g., 35" />
          </label>

          <label class="field">
            <span>Project Width (ft) (optional)</span>
            <input id="inWidFt" type="number" inputmode="decimal" placeholder="e.g., 40" />
          </label>

          <label class="field">
            <span>Perimeter (LF) (optional override)</span>
            <input id="inPerimLF" type="number" inputmode="decimal" placeholder="leave blank to auto-calc" />
          </label>
        </div>

        <div class="divider"></div>

        <h3>Calculated (auto)</h3>
        <div class="grid compact">
          <div class="stat">
            <div class="k">Perimeter (LF)</div>
            <div class="v" id="outPerimLF">‚Äî</div>
          </div>
          <div class="stat">
            <div class="k">Wall Area (SF)</div>
            <div class="v" id="outWallSF">‚Äî</div>
          </div>
          <div class="stat">
            <div class="k">Paint Area (Walls + Ceiling) (SF)</div>
            <div class="v" id="outPaintSF">‚Äî</div>
          </div>
        </div>

        <div class="hint">
          Tip: If you don‚Äôt know length/width, leave them blank. If you know perimeter, enter it in Perimeter override.
        </div>
      </div>

      <div class="card">
        <h2>Scope + quantities</h2>
        <div id="scopeList" class="checklist"></div>
        <div class="hint">For EACH items (doors, dishwasher, sinks, etc.) enter quantity on the right after you check it ON.</div>
      </div>

      <div class="card admin hidden" id="adminPanel">
        <h2>Admin Controls</h2>

        <div class="grid">
          <label class="field">
            <span>Per-item Tier Pricing Enabled</span>
            <select id="adminMarkupEnabled">
              <option value="1">ON</option>
              <option value="0">OFF</option>
            </select>
          </label>

          <label class="field">
            <span>Per-item Tier Override % (blank = use tier)</span>
            <input id="adminMarkupOverride" type="number" inputmode="decimal" placeholder="e.g., 35" />
          </label>

          <label class="field">
            <span>Tariff Enabled</span>
            <select id="adminTariffEnabled">
              <option value="0">OFF</option>
              <option value="1">ON</option>
            </select>
          </label>

          <label class="field">
            <span>Tariff %</span>
            <input id="adminTariffPct" type="number" inputmode="decimal" placeholder="e.g., 8" />
          </label>
        </div>

        <div class="btnrow">
          <button class="btn" id="adminApplyBtn">Apply</button>
          <button class="btn ghost" id="adminResetBtn">Reset Admin</button>
        </div>

        <div class="hint">
          Unlock: Long-press the logo for ~1.2 seconds (iPhone) ‚Üí enter PIN.
        </div>
        <div class="hint" id="adminStateMsg"></div>
      </div>
    </section>

    <section class="panel" id="tab-quote">
      <div class="card">
        <div class="noPrint customerCard">
          <div class="grid2">
            <label class="field">
              <span>Customer Name</span>
              <input id="custName" type="text" placeholder="e.g., John Smith" />
            </label>
            <label class="field">
              <span>Customer Address</span>
              <input id="custAddr" type="text" placeholder="e.g., 12 Main St, Old Bridge, NJ" />
            </label>
          </div>
        </div>

        <div class="printHeader">
          <div class="printTop">
            <div class="brandBlock">
              <img id="printLogo" class="printLogo" src="logo.png" alt="Haroon &amp; Sons Consulting logo" />
              <div class="brandText">
                <div class="printTitle" id="printCompanyName">Haroon &amp; Sons Consulting Quote</div>
                <div class="printSub">Fast estimate ‚Ä¢ Clear scope ‚Ä¢ Clean totals</div>
                <div class="brandContact">
                  <div id="printCompanyPhone"></div>
                  <div id="printCompanyEmail"></div>
                </div>
              </div>
            </div>

            <div class="clientBlock">
              <div class="clientLine"><span class="lbl">Client:</span> <span id="printClientName">‚Äî</span></div>
              <div class="clientLine"><span class="lbl">Address:</span> <span id="printClientAddress">‚Äî</span></div>
              <div class="clientBits" id="printProjectSummary"></div>
            </div>

            <div class="totalBlock">
              <div class="totalLabel">Total</div>
              <div class="totalValue"><b id="printGrandTotal">$0.00</b></div>
            </div>
          </div>
          <hr class="printRule" />
        </div>

        <div class="totals noPrint">
          <div class="pill">Raw Materials <b id="rawMatTotal">$0.00</b></div>
          <div class="pill">Raw Labor <b id="rawLabTotal">$0.00</b></div>
          <div class="pill">Raw Total <b id="rawGrandTotal">$0.00</b></div>
        </div>

        <div class="totals noPrint">
          <div class="pill">Priced Subtotal <b id="rawSubtotal">$0.00</b></div>
          <div class="pill">Pricing Applied <b id="markupApplied">‚Äî</b></div>
          <div class="pill">Tariff Applied <b id="tariffApplied">‚Äî</b></div>
        </div>

        <div class="tablewrap">
          <table class="tbl">
            <thead>
              <tr>
                <th class="left">Item</th>
                <th>Unit</th>
                <th>Qty</th>
                <th>Unit Mat</th>
                <th>Unit Lab</th>
                <th>Material</th>
                <th>Labor</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody id="quoteBody"></tbody>
            <tfoot>
              <tr>
                <td class="left" colspan="7">Total</td>
                <td id="grandTotal">$0.00</td>
              </tr>
            </tfoot>
          </table>
        </div>

        <div class="btnrow noPrint">
          <button class="btn" id="printBtn">Print / Save PDF</button>
          <button class="btn ghost" id="clearBtn">Clear (this device)</button>
        </div>

        <div class="hint noPrint">
          Note: This tool is an estimator. Final pricing may change based on field conditions, permits, and material availability.
        </div>
      </div>
    </section>

    <section class="panel" id="tab-rates">
      <div class="card">
        <h2>Rates</h2>
        <div class="hint">Raw rates + ‚Äúpriced‚Äù rates (tier pricing applied). Customers do not see this in the PDF.</div>
        <div class="tablewrap">
          <table class="tbl ratesTbl">
            <thead>
              <tr>
                <th class="left">Item</th>
                <th>Unit</th>
                <th>Raw Mat</th>
                <th>Raw Lab</th>
                <th>Priced Mat</th>
                <th>Priced Lab</th>
              </tr>
            </thead>
            <tbody id="ratesBody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <script src="app.js?v=1"></script>
</body>
</html>